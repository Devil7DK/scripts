echo "Enabling x86 Support..."
sudo dpkg --add-architecture i386
echo "Installing Build Dependencies..."
sudo apt-get update && sudo apt-get --yes --force-yes install git ccache automake lzop bison gperf build-essential zip curl zlib1g-dev zlib1g-dev:i386 g++-multilib python-networkx libxml2-utils bzip2 libbz2-dev libbz2-1.0 libghc-bzlib-dev squashfs-tools pngcrush schedtool dpkg-dev liblz4-tool make optipng bc brotli openjdk-8-jdk
echo "Creating Bin Directory..."
mkdir ~/.bin
echo "Downloading repo tool..."
curl http://commondatastorage.googleapis.com/git-repo-downloads/repo > ~/.bin/repo
chmod a+x ~/.bin/repo
echo "Preparing bashrc"
echo "export PATH=~/.bin:~/.android-ndk-r17:\$PATH" >> ~/.bashrc
echo "export USE_CCACHE=1" >> ~/.bashrc
echo "ccache -M 50G" >> ~/.bashrc
echo "export KBUILD_BUILD_USER=Devil7DK" >> ~/.bashrc
echo "export KBUILD_BUILD_HOST=Devil7-Softwares" >> ~/.bashrc
echo "git config --global credential.helper cache" >> ~/.bashrc
echo "git config --global credential.helper 'cache --timeout=36000'" >> ~/.bashrc
export LANG=C
export PATH=$PATH:~/.android-sdk/tools/
export PATH=$PATH:~/.android-sdk/platform-tools/
export CCACHE_DIR=~/.ccache
source ~/.bashrc
echo "Installing NDK"
curl -o ~/ndk.zip https://dl.google.com/android/repository/android-ndk-r17b-linux-x86_64.zip && unzip ~/ndk.zip && mv android-ndk-r17b ~/.android-ndk-r17 && rm ~/ndk.zip